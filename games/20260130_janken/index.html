<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>„Åò„ÇÉ„Çì„Åë„Çì | DreamCore</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;800&display=swap" rel="stylesheet">

    <!-- CDN Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.4/howler.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js"></script>
  <script type="module" crossorigin>(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const h of n.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();let l=null,r=null;function C(){return location.hostname!=="localhost"&&location.hostname!=="127.0.0.1"&&!location.hostname.includes(".local")}function M(){if(C()){console.log("üõ†Ô∏è Debug panel disabled in production");return}if(typeof dat>"u"){console.warn("‚ö†Ô∏è dat.GUI not loaded. Add CDN to index.html");return}l=new dat.GUI({width:280}),r=l,console.log("üõ†Ô∏è Debug panel initialized")}function p(e,a,o,i,s){if(!l||!r)return;const n=e[a];typeof n=="number"&&o!==void 0&&i!==void 0?s!==void 0?r.add(e,a,o,i,s):r.add(e,a,o,i):r.add(e,a)}function x(e,a){if(!l||!r)return;const o={[e]:a};r.add(o,e)}function L(e,a=!0){l&&(r=l.addFolder(e),a&&r.open())}function D(){l&&(r=l)}const y=1e3/60,P=100,m={rock:"„Ç∞„Éº",paper:"„Éë„Éº",scissors:"„ÉÅ„Éß„Ç≠"},f={rock:"‚úä",paper:"‚úã",scissors:"‚úåÔ∏è"},c={revealDelayMs:420,cooldownMs:650,shakeStrength:10,particleCount:24,autoStart:!0},t={phase:"title",playerHand:null,cpuHand:null,outcome:null,wins:0,losses:0,draws:0,streak:0,bestStreak:0,lockInput:!1,timeInPhase:0},g=document.getElementById("app");let F=0,b=0;function I(e){const a=Math.min(e-F,P);for(F=e,b+=a;b>=y;)H(y/1e3),b-=y;requestAnimationFrame(I)}function H(e){t.timeInPhase+=e}function A(){g.innerHTML=`
    <div class="bg">
      <div class="glow g1"></div>
      <div class="glow g2"></div>
      <div class="noise"></div>
    </div>

    <div class="wrap">
      <header class="top">
        <div class="brand">
          <div class="badge">DreamCore</div>
          <h1 class="title">„Åò„ÇÉ„Çì„Åë„Çì<br/><span class="titleSub">‰∏ÄÊâã„ÅßÊ∞óÊåÅ„Å°„Çà„ÅèÂãù„Å§„ÇÑ„Å§</span></h1>
        </div>

        <div class="stats">
          <div class="stat"><span class="k">WIN</span><span class="v" id="wins">0</span></div>
          <div class="stat"><span class="k">LOSE</span><span class="v" id="losses">0</span></div>
          <div class="stat"><span class="k">DRAW</span><span class="v" id="draws">0</span></div>
          <div class="stat big"><span class="k">STREAK</span><span class="v" id="streak">0</span></div>
        </div>
      </header>

      <main class="board">
        <section class="arena" aria-label="result">
          <div class="handSide">
            <div class="handLabel">YOU</div>
            <div class="handCard" id="youCard">
              <div class="handEmoji" id="youEmoji">?</div>
              <div class="handName" id="youName">ÈÅ∏„Çì„Åß„Å≠</div>
            </div>
          </div>

          <div class="vs">
            <div class="vsTop">VS</div>
            <div class="outcome" id="outcome">‚ú¶ Ready</div>
            <div class="hint" id="hint">„Åæ„Åö„ÅØ <b>„Çπ„Çø„Éº„Éà</b> „ÇíÊäº„Åó„Å¶„Å≠</div>
          </div>

          <div class="handSide">
            <div class="handLabel">CPU</div>
            <div class="handCard" id="cpuCard">
              <div class="handEmoji" id="cpuEmoji">?</div>
              <div class="handName" id="cpuName">‚Ä¶</div>
            </div>
          </div>
        </section>

        <section class="controls" aria-label="controls">
          <button class="btn primary" id="startBtn">„Çπ„Çø„Éº„Éà</button>
          <button class="btn ghost" id="resetBtn" title="„Çπ„Ç≥„Ç¢„É™„Çª„ÉÉ„Éà">„É™„Çª„ÉÉ„Éà</button>
        </section>

        <section class="choices" aria-label="choices">
          <button class="choice" data-hand="rock">
            <span class="ce">${f.rock}</span>
            <span class="cn">${m.rock}</span>
          </button>
          <button class="choice" data-hand="scissors">
            <span class="ce">${f.scissors}</span>
            <span class="cn">${m.scissors}</span>
          </button>
          <button class="choice" data-hand="paper">
            <span class="ce">${f.paper}</span>
            <span class="cn">${m.paper}</span>
          </button>
        </section>

        <footer class="bottom">
          <div class="micro">Tip: ÈÄ£Âãù„Åô„Çã„Å®ÊºîÂá∫„Åå„Å©„Çì„Å©„ÇìÊ¥æÊâã„Å´„Å™„ÇãÔºàÊ∞óÊåÅ„Å°„Çà„ÅïÊúÄÂÑ™ÂÖàÔºâ</div>
        </footer>
      </main>

      <div id="particlesRoot" class="particlesRoot"></div>
    </div>
  `,document.getElementById("startBtn").addEventListener("click",k),document.getElementById("resetBtn").addEventListener("click",w),g.querySelectorAll(".choice").forEach(e=>{e.addEventListener("click",()=>{const a=e.dataset.hand;a&&N(a)})}),g.addEventListener("touchmove",e=>e.preventDefault(),{passive:!1})}function k(){t.phase==="title"&&(t.phase="select",t.timeInPhase=0,t.lockInput=!1,d("Â•Ω„Åç„Å™Êâã„Çí„Çø„ÉÉ„ÉóÔºÅ"),v("‚ú¶ „Åò„ÇÉ„Çì„Åë„Çì‚Ä¶"),gsap.fromTo(".arena",{y:12,opacity:0},{y:0,opacity:1,duration:.45,ease:"power3.out"}),gsap.fromTo(".choices .choice",{y:18,opacity:0},{y:0,opacity:1,duration:.5,ease:"power3.out",stagger:.06}),gsap.fromTo("#startBtn",{scale:1},{scale:.9,duration:.12,yoyo:!0,repeat:1,ease:"power2.out"}),u("you",null),u("cpu",null))}function w(){t.phase="title",t.playerHand=null,t.cpuHand=null,t.outcome=null,t.wins=0,t.losses=0,t.draws=0,t.streak=0,t.bestStreak=0,t.lockInput=!1,t.timeInPhase=0,S(),u("you",null),u("cpu",null),v("‚ú¶ Ready"),d("„Åæ„Åö„ÅØ <b>„Çπ„Çø„Éº„Éà</b> „ÇíÊäº„Åó„Å¶„Å≠"),gsap.fromTo(".wrap",{filter:"brightness(1.15)"},{filter:"brightness(1)",duration:.3})}function N(e){t.phase==="select"&&(t.lockInput||(t.lockInput=!0,t.phase="reveal",t.timeInPhase=0,t.playerHand=e,t.cpuHand=$(),t.outcome=q(e,t.cpuHand),u("you",e),u("cpu",null),T("youCard"),d("CPU„ÅåÂá∫„ÅôÊâã„ÇíË™≠„Çì„Åß„Çã‚Ä¶ÔºàÊ∞óÂàÜ„Å†„ÅëÔºâ"),window.setTimeout(()=>{O()},c.revealDelayMs)))}function O(){t.playerHand==null||t.cpuHand==null||t.outcome==null||(u("cpu",t.cpuHand),T("cpuCard"),R(t.outcome),window.setTimeout(()=>{t.phase="select",t.timeInPhase=0,t.lockInput=!1,d("„ÇÇ„ÅÜ‰∏ÄÂõû„ÅÑ„ÅìÔºüÔºàÊâã„Çí„Çø„ÉÉ„ÉóÔºâ"),v("‚ú¶ „Åò„ÇÉ„Çì„Åë„Çì‚Ä¶"),t.streak>=2&&gsap.fromTo(".arena",{scale:1.01},{scale:1,duration:.25,ease:"power2.out"})},c.cooldownMs))}function R(e){v(`${e==="win"?"üèÜ":e==="lose"?"üí•":"ü§ù"} ${e==="win"?"WIN!!":e==="lose"?"LOSE‚Ä¶":"DRAW"}`),e==="win"?(t.wins+=1,t.streak+=1,t.bestStreak=Math.max(t.bestStreak,t.streak),U(),d(`„ÅÑ„ÅÑ„Å≠ÔºÅ ÈÄ£Âãù <b>${t.streak}</b> ‚ú®`)):e==="lose"?(t.losses+=1,t.streak=0,j(),d("Ê¨°„ÅßÂèñ„ÇäËøî„Åù„ÄÇ‰ªä„ÅÆ„ÅØÁõ∏ÊÄß„ÅåÊÇ™„Åã„Å£„Åü„Å†„Åë")):(t.draws+=1,W(),d("„ÅÇ„ÅÑ„ÅìÔºÅ „ÇÇ„ÅÜ‰∏ÄÂõûÔºÅ")),S()}function S(){document.getElementById("wins").textContent=String(t.wins),document.getElementById("losses").textContent=String(t.losses),document.getElementById("draws").textContent=String(t.draws),document.getElementById("streak").textContent=String(t.streak),gsap.fromTo(".stat .v",{scale:1.18},{scale:1,duration:.22,ease:"back.out(2)",stagger:.01})}function v(e){const a=document.getElementById("outcome");a.innerHTML=e,gsap.fromTo(a,{y:6,opacity:.7},{y:0,opacity:1,duration:.22,ease:"power2.out"})}function d(e){const a=document.getElementById("hint");a.innerHTML=e}function u(e,a){const o=document.getElementById(e==="you"?"youEmoji":"cpuEmoji"),i=document.getElementById(e==="you"?"youName":"cpuName");if(!a){o.textContent="?",i.textContent=e==="you"?"ÈÅ∏„Çì„Åß„Å≠":"‚Ä¶";return}o.textContent=f[a],i.textContent=m[a]}function T(e){const a=document.getElementById(e);a&&gsap.fromTo(a,{scale:.96,rotate:-1.5},{scale:1,rotate:0,duration:.35,ease:"elastic.out(1, 0.35)"})}function $(){const e=Math.random();return e<1/3?"rock":e<2/3?"scissors":"paper"}function q(e,a){return e===a?"draw":e==="rock"&&a==="scissors"||e==="scissors"&&a==="paper"||e==="paper"&&a==="rock"?"win":"lose"}function U(){B(c.shakeStrength+Math.min(10,t.streak*2)),E("win"),gsap.fromTo(".title",{letterSpacing:"0.02em"},{letterSpacing:"0.08em",duration:.18,yoyo:!0,repeat:1}),gsap.fromTo(".arena",{filter:"brightness(1.0)"},{filter:"brightness(1.18)",duration:.18,yoyo:!0,repeat:1})}function j(){B(c.shakeStrength),E("lose"),gsap.fromTo(".arena",{filter:"saturate(1)"},{filter:"saturate(0.7)",duration:.22,yoyo:!0,repeat:1}),gsap.fromTo("#outcome",{scale:1},{scale:1.06,duration:.14,yoyo:!0,repeat:1})}function W(){E("draw"),gsap.fromTo("#outcome",{rotate:-1},{rotate:1,duration:.12,yoyo:!0,repeat:3,ease:"power1.inOut"})}function B(e){const a=document.querySelector(".board");a&&gsap.fromTo(a,{x:0,y:0},{duration:.28,x:()=>(Math.random()*2-1)*e,y:()=>(Math.random()*2-1)*e,ease:"rough({ template: none.out, strength: 1, points: 12, taper: out, randomize: true, clamp: true })",clearProps:"x,y"})}async function E(e){const a=document.getElementById("particlesRoot");if(!a)return;const o="p-"+Date.now()+"-"+Math.floor(Math.random()*1e3),i=document.createElement("div");i.className="particles",i.id=o,a.appendChild(i);const s=e==="win"?["#FF6B9D","#FFB6C1","#A0FFEE","#FFFFFF"]:e==="lose"?["#7A5CFF","#FF4D7D","#2B2B55"]:["#FFD56B","#FFB6C1","#FFFFFF"],n=c.particleCount+(e==="win"?Math.min(18,t.streak*4):0);await tsParticles.load(o,{fullScreen:!1,background:{color:{value:"transparent"}},fpsLimit:60,particles:{number:{value:0},color:{value:s},shape:{type:["circle","star"]},size:{value:{min:4,max:14}},opacity:{value:1,animation:{enable:!0,startValue:"max",destroy:"min",speed:1}},move:{enable:!0,speed:{min:6,max:18},direction:"none",outModes:"destroy",gravity:{enable:!0,acceleration:16}},rotate:{value:{min:0,max:360},animation:{enable:!0,speed:20}},tilt:{value:{min:0,max:360},animation:{enable:!0,speed:20}},life:{duration:{value:.75}}},emitters:{position:{x:50,y:45},rate:{quantity:n,delay:0},life:{count:1,duration:.05}}}),window.setTimeout(()=>{i.remove()},1200)}function _(){M(),L("ü™Ñ Janken"),p(c,"revealDelayMs",0,1200,10),p(c,"cooldownMs",200,1600,10),p(c,"shakeStrength",0,24,1),p(c,"particleCount",0,80,1),p(c,"autoStart"),D(),x("üîÅ Reset",w),A(),w(),requestAnimationFrame(I),c.autoStart&&window.setTimeout(()=>{k()},250)}_();</script>
  <style rel="stylesheet" crossorigin>:root{--primary: #ff6b9d;--secondary: #c44569;--accent: #ffb6c1;--mint: #a0ffee;--bg0: #0f1026;--bg1: #15163a;--card: rgba(255, 255, 255, .08);--stroke: rgba(255, 255, 255, .14);--text: rgba(255, 255, 255, .92);--muted: rgba(255, 255, 255, .7);--shadow: 0 14px 40px rgba(0, 0, 0, .45)}*{box-sizing:border-box;margin:0;padding:0}html,body{width:100%;height:100%;overflow:hidden;font-family:"M PLUS Rounded 1c",system-ui,-apple-system,Segoe UI,Roboto,sans-serif;background:radial-gradient(1100px 800px at 20% 20%,#2a1850 0%,transparent 50%),radial-gradient(900px 700px at 80% 30%,#1a5b6a 0%,transparent 55%),linear-gradient(135deg,var(--bg0) 0%,var(--bg1) 100%);color:var(--text);touch-action:manipulation;-webkit-tap-highlight-color:transparent;user-select:none}#app{width:100%;height:100%}.bg{position:fixed;inset:0;pointer-events:none}.glow{position:absolute;width:520px;height:520px;border-radius:50%;filter:blur(60px);opacity:.35}.glow.g1{left:-160px;top:-160px;background:radial-gradient(circle at 30% 30%,var(--primary),transparent 60%)}.glow.g2{right:-170px;top:90px;background:radial-gradient(circle at 30% 30%,var(--mint),transparent 60%)}.noise{position:absolute;inset:0;opacity:.06;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.75" numOctaves="3" stitchTiles="stitch"/></filter><rect width="120" height="120" filter="url(%23n)" opacity="0.55"/></svg>');background-size:120px 120px;mix-blend-mode:overlay}.wrap{position:relative;width:min(980px,96vw);height:100%;margin:0 auto;padding:max(14px,env(safe-area-inset-top)) 14px max(14px,env(safe-area-inset-bottom));display:flex;flex-direction:column;gap:12px}.top{display:flex;flex-direction:column;gap:10px}.brand{display:flex;align-items:flex-end;justify-content:space-between;gap:10px}.badge{display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:999px;font-weight:800;font-size:12px;letter-spacing:.06em;border:1px solid rgba(255,255,255,.16);background:#ffffff12;backdrop-filter:blur(8px)}.title{text-align:right;font-weight:800;font-size:clamp(28px,7.8vw,52px);line-height:.95;letter-spacing:.02em;background:linear-gradient(135deg,var(--primary),var(--accent),var(--mint));-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 6px 26px rgba(255,107,157,.25)}.titleSub{display:inline-block;font-size:clamp(12px,3.2vw,16px);color:#ffffffbf;text-shadow:none;letter-spacing:.01em;transform:translateY(-6px)}.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}.stat{border:1px solid var(--stroke);background:#ffffff0f;border-radius:16px;padding:10px;box-shadow:0 10px 30px #00000040;backdrop-filter:blur(10px);display:flex;align-items:baseline;justify-content:space-between}.stat.big{background:linear-gradient(135deg,#ff6b9d24,#a0ffee17)}.k{font-size:11px;letter-spacing:.14em;font-weight:800;color:#ffffffa6}.v{font-size:20px;font-weight:800;color:#ffffffeb}.board{position:relative;flex:1;min-height:0;display:flex;flex-direction:column;gap:12px}.arena{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:10px;padding:12px;border-radius:22px;border:1px solid var(--stroke);background:linear-gradient(135deg,#ffffff14,#ffffff0a);box-shadow:var(--shadow);backdrop-filter:blur(12px)}.handSide{display:flex;flex-direction:column;align-items:center;gap:8px}.handLabel{font-weight:800;letter-spacing:.18em;font-size:11px;color:#ffffffa6}.handCard{width:min(140px,34vw);height:min(160px,40vw);max-width:170px;max-height:190px;border-radius:22px;border:1px solid rgba(255,255,255,.16);background:#00000024;display:grid;place-items:center;padding:12px}.handEmoji{font-size:clamp(42px,12vw,64px);filter:drop-shadow(0 10px 18px rgba(0,0,0,.25))}.handName{margin-top:6px;font-weight:800;color:#ffffffd1}.vs{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;padding:0 6px}.vsTop{font-weight:800;letter-spacing:.24em;color:#ffffffad}.outcome{font-weight:800;font-size:22px;letter-spacing:.06em;padding:8px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.14);background:#ffffff0f}.hint{font-size:12px;color:#ffffffb8;text-align:center;max-width:200px}.controls{display:grid;grid-template-columns:1fr auto;gap:10px}.btn{border:1px solid rgba(255,255,255,.16);border-radius:18px;padding:14px;font-family:inherit;font-weight:800;font-size:16px;letter-spacing:.02em;color:#ffffffe6;background:#ffffff0f;backdrop-filter:blur(10px);box-shadow:0 12px 28px #00000040}.btn.primary{border:none;background:linear-gradient(135deg,#ff6b9df2,#c44569eb);box-shadow:0 16px 30px #ff6b9d40}.btn.ghost{width:86px}.btn:active{transform:scale(.98)}.choices{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}.choice{border:1px solid rgba(255,255,255,.16);border-radius:22px;padding:14px 12px;background:#ffffff0f;backdrop-filter:blur(10px);box-shadow:0 14px 30px #00000038;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;min-height:92px;font-family:inherit;color:#ffffffeb}.choice .ce{font-size:34px}.choice .cn{font-weight:800;letter-spacing:.06em}.choice:active{transform:translateY(1px) scale(.99)}.bottom{margin-top:auto;text-align:center;color:#ffffff8c;font-size:11px;padding-bottom:2px}.particlesRoot{position:fixed;inset:0;pointer-events:none}.particles{position:absolute;inset:0;pointer-events:none}@media (max-width: 420px){.stat{padding:8px;border-radius:14px}.v{font-size:18px}.outcome{font-size:19px}}</style>
</head>

<body>
    <div id="app"></div>
</body>

</html>